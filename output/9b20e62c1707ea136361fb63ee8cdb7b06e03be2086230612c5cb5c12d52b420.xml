<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android" android:installLocation="internalOnly" package="com.tsf.shell">
    <original-package android:name="com.tsf.shell"/>
    <application android:debuggable="true" android:icon="@drawable/tsf_ico" android:label="@string/app_name" android:name=".ShellApplication" android:persistent="true">
        <activity android:allowTaskReparenting="true" android:configChanges="keyboard|keyboardHidden|locale|mcc|mnc|orientation|screenSize|uiMode" android:launchMode="singleTask" android:name=".Home" android:process="com.tsf.shell" android:screenOrientation="nosensor" android:stateNotNeeded="true" android:taskAffinity="com.tsf.shell" android:theme="@style/AppTheme" android:windowSoftInputMode="adjustPan">
            <intent-filter>
                <action android:name="android.intent.action.MAIN"/>
                <category android:name="android.intent.category.HOME"/>
                <category android:name="android.intent.category.DEFAULT"/>
                <category android:name="android.intent.category.MONKEY"/>
                <category android:name="android.intent.category.LAUNCHER"/>
            </intent-filter>
        </activity>
        <activity android:name=".plugin.widgetpicker.ShortcutsPicker" android:process=":shortcutPicker" android:theme="@style/Theme.Translucent"/>
        <activity android:name=".plugin.widgetpicker.AppWidgetPicker" android:process=":widgetPicker" android:theme="@style/Theme.Translucent"/>
        <activity android:name=".plugin.iconpicker.IconPicker" android:process=":iconPicker" android:theme="@style/DialogTheme"/>
        <activity android:name=".VersionDetailActivity" android:process=":versionDetail" android:theme="@style/Theme.Translucent"/>
        <activity android:name=".theme.ThemeManagerActivity" android:process=":themes" android:theme="@style/NoTitleBar"/>
        <activity android:name=".theme.ThemeDetailedActivity" android:process=":themes" android:theme="@style/NoTitleBar"/>
        <activity android:name=".activity.PhotoSelectorActivity" android:theme="@style/Theme.Translucent"/>
        <activity android:name=".preference.SettingPreferenceActivity"/>
        <activity android:name=".preference.SettingDrawerPreferenceActivity"/>
        <activity android:name=".action.ActionSelector" android:process=":gesture" android:theme="@style/NoTitleBar"/>
        <activity android:name=".preference.SettingGesturePreferenceActivity" android:process=":gesture"/>
        <activity android:name=".usermanual.TSFUserManualActivity" android:process=":UserManual" android:theme="@style/NoTitleBar"/>
        <activity android:configChanges="keyboard|keyboardHidden|orientation" android:launchMode="singleTask" android:name=".RestartActivity" android:process=":restart" android:theme="@style/Theme.NoTitleBar.NoBackground"/>
        <activity android:finishOnCloseSystemDialogs="true" android:icon="@drawable/tsf_ico" android:label="@string/pick_wallpaper" android:launchMode="singleTask" android:name=".ShellWallpaperSelector" android:process=":wallpaperSelector" android:screenOrientation="nosensor">
            <intent-filter>
                <action android:name="android.intent.action.SET_WALLPAPER"/>
                <category android:name="android.intent.category.DEFAULT"/>
            </intent-filter>
        </activity>
        <service android:enabled="true" android:name=".services.ForegroundService">
            <intent-filter>
                <action android:name="com.tsf.shell.services.FOREGROUND"/>
            </intent-filter>
        </service>
        <provider android:authorities="com.tsf.shell.settings" android:name="com.tsf.shell.ShellProvider" android:readPermission="com.tsf.shell.permission.READ_SETTINGS" android:writePermission="com.tsf.shell.permission.WRITE_SETTINGS"/>
    </application>
    <supports-screens android:anyDensity="true" android:largeScreens="true" android:normalScreens="true" android:smallScreens="true"/>
    <uses-permission android:name="android.permission.EXPAND_STATUS_BAR"/>
    <uses-permission android:name="android.permission.CALL_PHONE"/>
    <uses-permission android:name="android.permission.READ_LOGS"/>
    <uses-permission android:name="com.android.vending.CHECK_LICENSE"/>
    <uses-permission android:name="android.permission.READ_CONTACTS"/>
    <uses-permission android:name="android.permission.PERSISTENT_ACTIVITY"/>
    <uses-permission android:name="android.permission.INTERNET"/>
    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/>
    <uses-permission android:name="android.permission.CHANGE_WIFI_STATE"/>
    <uses-permission android:name="android.permission.BLUETOOTH"/>
    <uses-permission android:name="android.permission.BLUETOOTH_ADMIN"/>
    <uses-permission android:name="android.permission.VIBRATE"/>
    <uses-permission android:name="android.permission.WRITE_SETTINGS"/>
    <uses-permission android:name="com.android.browser.permission.READ_HISTORY_BOOKMARKS"/>
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
    <uses-permission android:name="android.permission.RESTART_PACKAGES"/>
    <uses-permission android:name="android.permission.KILL_BACKGROUND_PROCESSES"/>
    <uses-permission android:name="android.permission.SET_WALLPAPER"/>
    <uses-permission android:name="android.permission.SET_WALLPAPER_HINTS"/>
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
    <uses-permission android:name="android.permission.BIND_APPWIDGET"/>
    <uses-feature android:name="android.hardware.telephony" android:required="false"/>
    <uses-feature android:name="android.hardware.bluetooth" android:required="false"/>
    <uses-feature android:name="android.hardware.location" android:required="false"/>
    <uses-feature android:name="android.hardware.location.network" android:required="false"/>
    <uses-feature android:name="android.hardware.location.gps" android:required="false"/>
</manifest>
